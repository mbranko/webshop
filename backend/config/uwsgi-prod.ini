[uwsgi]
plugins=python3,router_static
module=webshop.wsgi:application
master=true
pidfile=/tmp/webshop.pid
check-static=/app/frontend/dist
static-index=index.html
route-if=startswith:${PATH_INFO};/activate continue:
route-if=startswith:${PATH_INFO};/api continue:
route-if=startswith:${PATH_INFO};/swagger continue:
route-if=startswith:${PATH_INFO};/redoc continue:
route-if=startswith:${PATH_INFO};/admin continue:
route-if=regexp:${PATH_INFO};^/static(.*) static:/app/staticcollected$1
route-if-not=exists:/app/frontend/dist${PATH_INFO} static:/app/frontend/dist/index.html
vacuum=true
max-requests=5000
socket=0.0.0.0:8000
protocol=http
processes=10
harakiri=3000
http-timeout=3000
single-interpreter=true
enable-threads=true
